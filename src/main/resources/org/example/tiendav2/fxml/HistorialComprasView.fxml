<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<BorderPane xmlns="http://javafx.com/javafx/25"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.tiendav2.controller.HistorialComprasController"
            style="-fx-background-color: #0d0d0d;"
            prefWidth="900" prefHeight="700">

    <top>
        <VBox style="-fx-background-color: #0d0d0d;">
            <HBox style="-fx-padding: 20; -fx-background-color: #1a1a1a;" alignment="CENTER_LEFT" spacing="15">
                <Label text="ðŸ“¦ HISTORIAL DE COMPRAS" 
                       style="-fx-text-fill: white; -fx-font-size: 26px; -fx-font-weight: bold;" />
                <Region HBox.hgrow="ALWAYS" />
                <Button text="ðŸ”„ Actualizar" onAction="#actualizarHistorial" 
                        style="-fx-background-color: #00ff8a; -fx-text-fill: #0d0d0d; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" />
                <Button text="âœ• Cerrar" onAction="#cerrar" 
                        style="-fx-background-color: #ff4444; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10 20; -fx-background-radius: 5;" />
            </HBox>
            
            <!-- Barra de estadÃ­sticas -->
            <HBox style="-fx-padding: 15 20; -fx-background-color: #0d0d0d; -fx-spacing: 30;" alignment="CENTER_LEFT">
                <VBox alignment="CENTER" spacing="5">
                    <Label text="Total de Compras" style="-fx-text-fill: #888; -fx-font-size: 12px;" />
                    <Label fx:id="lblTotalCompras" text="0" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;" />
                </VBox>
                <Separator orientation="VERTICAL" style="-fx-background-color: #333;" />
                <VBox alignment="CENTER" spacing="5">
                    <Label text="Total Gastado" style="-fx-text-fill: #888; -fx-font-size: 12px;" />
                    <Label fx:id="lblTotalGastado" text="\$0.00" style="-fx-text-fill: #00ff8a; -fx-font-size: 20px; -fx-font-weight: bold;" />
                </VBox>
                <Separator orientation="VERTICAL" style="-fx-background-color: #333;" />
                <VBox alignment="CENTER" spacing="5">
                    <Label text="Productos Comprados" style="-fx-text-fill: #888; -fx-font-size: 12px;" />
                    <Label fx:id="lblTotalProductos" text="0" style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;" />
                </VBox>
            </HBox>
        </VBox>
    </top>

    <center>
        <ScrollPane fitToWidth="true" hbarPolicy="NEVER" style="-fx-background: #0d0d0d; -fx-background-color: #0d0d0d;">
            <VBox fx:id="contenedorCompras" 
                  style="-fx-padding: 20; -fx-spacing: 15; -fx-background-color: #0d0d0d;" 
                  alignment="TOP_CENTER">
                <!-- Las compras se agregarÃ¡n aquÃ­ dinÃ¡micamente -->
                <Label fx:id="mensajeVacio" text="ðŸ“­ No hay compras registradas aÃºn" 
                       style="-fx-text-fill: #888; -fx-font-style: italic; -fx-font-size: 18px; -fx-padding: 50;"
                       visible="false"/>
            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
